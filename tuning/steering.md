# 조향 튜닝

## SteerMax

* SteerMax는 조향에 인가하는 토크의 최대값
* 이값이 높으면 조향에 힘이 세지나, 각도가 커지면 조향시스템에 에러가 발생할 수 있다.
* 에러가 나지 않고 조향이 잘되는 곳까지 올리면 된다.
* 기본적으로 콤마의 코드 참고하여 넣으면 된다.
* &#x20;쏘렌토/싼타페409, 코나384, 그외의 차량은 255\~409까지 지원
* **409, 384, 270 중 오류가 안나는 가장 큰 숫자를 사용**

## SteerDeltaUp/Down

* 스티어링을 감고(Up), 푸는(Down)단위이다.
* 값이 크면 핸들의 돌리는 속도가 빨라지나, 덜렁거리는 기분이 든다.
* 값이 크다고 좋은건 아니므로, 내차에 적합한 값을 찾는것이 좋다.
* 일반적으로 2\~3정도가 적당한듯하다.
* 값이 너무 크면 와리가리 현상이 발생한다.

## SteerRatio

* 기본적으로 콤마가 실시간으로 차량의 SteerRatio를 계산한다.

\=> 이를 LiveSteerRatio = LiveSR이라고 부른다.

* 대부분 차량의 경우, 이 값이 너무 큰 경향이 있어 LiveSR 반영 비율 설정을 이용해 80\~90% 사이의 값을 사용한다.
  * 또는, 고정 SteerRatio를 사용하기도 한다. 이는 차량 제원상의 SteerRatio에 0.8\~0.9 정도를 곱한 값을 사용한다.

## SteerActuatorDelay (SAD)

* 조향 시스템이 응답하는 지연시간이다.
* 이값이 크면 조향을 미리하게 되어 오버스티어가 발생할수 있다.&#x20;
* 당근맨에서는 소수점을 입력할수없으므로, 0.3을 입력하려면 30을 입력하면 된다.
* 주로 커브진입때 진입하는 시점을 보며 조절하면 된다. (**반드시 레인리스 상태에서 튜닝**)
* **늦게 커브에 반응하면 값을 올린다.**
* **일찍 커브에 반응하면 값을 내린다.**
* TM(싼타페)는 22, 쏘렌토(MQ4 PE)는 20정도 사용하고 있다.

<figure><img src="../.gitbook/assets/image (4).png" alt=""><figcaption><p>출처 : 트흐</p></figcaption></figure>

## TorqueAccelFactor, FrictionFactor

* LiveTorque는 항상 활성화되어 있으나, 학습할때까지 많은 시간이 소요될수 있다.
* LiveTorque도 잘맞는 편이나, 조금 약한 튜닝이 되는듯하다.
* **AccelFactor를 낮추면 토크가 쎄진다. 낮추다가 어느순간 힘이 오히려 약해지는 지점이 있는데, 이값보다 조금 높히면 적당한값이 된다.**
* **FrictionFactor는 멈춰있는 조향을 기동할때 더해주는 Factor이다. 낮으면 부드럽게 움직이지만, 적절한 미세조향을 할수 없고, 높으면 툭툭조향을 시작하는 문제가 생길수 있다.**
* LateralTorqueCustom을 1로 하여 Custom값을 적용한다.
* TM(싼타페)의 경우 2100, 0 을 사용하고 있다.&#x20;
* 쏘렌토 MQ4 PE의 경우 2200, 50을 사용하고 있다.

## Comfort Brake

* Comfort Brake의 **기본값은 250**이다.
* Comfort Brake의 값을 낮출수록, 전방차량이 있을 때 먼저 감속을 한다.
* 즉, 값이 **낮을수록 더 부드럽게 정지**한다.
* 단, 너무 낮은 값을 사용하면 전방차량과 과도하게 넓은 안전거리를 두게된다.
* 따라서, **230\~240 정도가 추천 설정 값**이다.
